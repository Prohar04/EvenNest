{% extends 'base.html' %}

{% block title %}My Bookings - EventNest{% endblock %}

{% block content %}
<section class="section">
    <div class="container">
        <h1 style="margin-bottom: var(--spacing-2xl);">My Bookings</h1>

        {% if bookings %}
        <div style="display: flex; flex-direction: column; gap: var(--spacing-xl);">
            {% for booking in bookings %}
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: start;">
                    <div style="flex: 1;">
                        <div class="flex" style="align-items: center; gap: var(--spacing-md); margin-bottom: var(--spacing-sm);">
                            <h3>{{ booking.get_service_type_display }} - ID #{{ booking.id }}</h3>
                            <span class="badge {% if booking.status == 'confirmed' %}badge-success{% else %}badge-warning{% endif %}">
                                {{ booking.get_status_display }}
                            </span>
                        </div>
                        <p style="color: var(--text-tertiary); margin-bottom: var(--spacing-md);">
                            <i class="bi bi-calendar"></i> {{ booking.date }} at {{ booking.time_slot }}
                        </p>
                        <p style="color: var(--text-secondary);">Total: <strong style="color: var(--primary); font-size: 1.1rem;">${{ booking.total_amount }}</strong></p>
                    </div>
                    <div>
                        <button class="btn btn-secondary" style="margin-bottom: var(--spacing-sm);">
                            <i class="bi bi-pencil"></i> Modify
                        </button>
                        <button class="btn btn-ghost" style="color: var(--error);">
                            <i class="bi bi-x"></i> Cancel
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="card">
            <div class="empty-state">
                <i class="bi bi-calendar" style="font-size: 4rem; margin-bottom: var(--spacing-lg);"></i>
                <h3>No bookings yet</h3>
                <p style="margin-bottom: var(--spacing-xl);">Start booking services to see them here!</p>
                <a href="{% url 'all_services' %}" class="btn btn-primary">
                    <i class="bi bi-stars"></i> Browse Services
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
